<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.0.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"width": 600, "height": 400, "background": "white", "config": {"title": {"fontWeight": "normal", "fontSize": 30, "anchor": "start", "font": "Calibri", "offset": 5}, "axisX": {"grid": false, "labelFont": "Calibri", "labelFontSize": 16, "labelAngle": 0, "labelPadding": 10, "ticks": false, "tickSize": 5, "title": null, "titleFont": "Calibri", "titleFontSize": 16, "titleFontWeight": "normal", "titleY": 30, "titleX": 280}, "axisY": {"grid": true, "gridOpacity": 1, "labelFont": "Calibri", "labelFontSize": 16, "labelLimit": 100, "labelAlign": "left", "labelPadding": 20, "ticks": false, "title": null, "titleFont": "Calibri", "titleFontWeight": "normal", "titleFontSize": 16, "titleAlign": "left", "titleAngle": 0, "titleY": -20, "titleX": -20, "domainWidth": 0}, "view": {"strokeOpacity": 0}}, "layer": [{"mark": {"type": "line", "color": "#ffc417", "interpolate": "basis", "size": 5, "strokeCap": "round"}, "encoding": {"x": {"type": "ordinal", "axis": {"labelOpacity": 0.8, "values": [1990, 2000, 2010, 2017]}, "field": "Year"}, "y": {"type": "quantitative", "axis": {"format": "~s", "labelOpacity": 0.8, "labelPadding": 40, "titleOpacity": 0.8, "titleX": -40, "titleY": -30, "values": [0, -100000, -200000, -300000, -400000]}, "field": "Net_Mig_Total", "title": "Every year more Californians moved out than residents from other states moved in"}}, "title": "California Net Domestic Migration"}, {"mark": {"type": "area", "color": "lightgray", "interpolate": "basis", "opacity": 0.3}, "encoding": {"x": {"type": "ordinal", "field": "Year"}, "y": {"type": "quantitative", "field": "Net_Mig_Total"}, "y2": {"field": "Zero"}}}, {"data": {"name": "data-ecee2b30f9dc68245f265fe3f2c2f932"}, "mark": {"type": "text", "font": "calibri", "opacity": 0.8, "size": 16}, "encoding": {"text": {"type": "nominal", "field": "text"}, "x": {"type": "ordinal", "field": "x"}, "y": {"type": "quantitative", "field": "y"}}}], "data": {"name": "data-ce1986f3b5f823729650ab34d9dacd36"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.0.0.json", "datasets": {"data-ce1986f3b5f823729650ab34d9dacd36": [{"Year": 1990, "Res": 10211835, "Inmig_Returns": 245535, "Inmig_Exempt": 448258, "Outmig_Returns": 277327, "Outmig_Exempt": 571032, "Net_Mig_Returns": -31792, "Rel_Mig_Returns": -0.0031, "Inmig_Total": 693793, "Outmig_Total": 848359, "Net_Mig_Total": -154566, "Rel_Mig_Total": -0.0151, "Zero": 0}, {"Year": 1991, "Res": 10337480, "Inmig_Returns": 236007, "Inmig_Exempt": 429962, "Outmig_Returns": 281887, "Outmig_Exempt": 577023, "Net_Mig_Returns": -45880, "Rel_Mig_Returns": -0.0044, "Inmig_Total": 665969, "Outmig_Total": 858910, "Net_Mig_Total": -192941, "Rel_Mig_Total": -0.0187, "Zero": 0}, {"Year": 1992, "Res": 10211198, "Inmig_Returns": 205155, "Inmig_Exempt": 372838, "Outmig_Returns": 315822, "Outmig_Exempt": 659933, "Net_Mig_Returns": -110667, "Rel_Mig_Returns": -0.0108, "Inmig_Total": 577993, "Outmig_Total": 975755, "Net_Mig_Total": -397762, "Rel_Mig_Total": -0.039, "Zero": 0}, {"Year": 1993, "Res": 10012232, "Inmig_Returns": 189073, "Inmig_Exempt": 344116, "Outmig_Returns": 320472, "Outmig_Exempt": 674796, "Net_Mig_Returns": -131399, "Rel_Mig_Returns": -0.0131, "Inmig_Total": 533189, "Outmig_Total": 995268, "Net_Mig_Total": -462079, "Rel_Mig_Total": -0.0462, "Zero": 0}, {"Year": 1994, "Res": 9915747, "Inmig_Returns": 198917, "Inmig_Exempt": 353108, "Outmig_Returns": 302694, "Outmig_Exempt": 628896, "Net_Mig_Returns": -103777, "Rel_Mig_Returns": -0.0105, "Inmig_Total": 552025, "Outmig_Total": 931590, "Net_Mig_Total": -379565, "Rel_Mig_Total": -0.0383, "Zero": 0}, {"Year": 1995, "Res": 10025767, "Inmig_Returns": 203317, "Inmig_Exempt": 359356, "Outmig_Returns": 269836, "Outmig_Exempt": 556760, "Net_Mig_Returns": -66519, "Rel_Mig_Returns": -0.0066, "Inmig_Total": 562673, "Outmig_Total": 826596, "Net_Mig_Total": -263923, "Rel_Mig_Total": -0.0263, "Zero": 0}, {"Year": 1996, "Res": 10179399, "Inmig_Returns": 228764, "Inmig_Exempt": 396095, "Outmig_Returns": 247534, "Outmig_Exempt": 501645, "Net_Mig_Returns": -18770, "Rel_Mig_Returns": -0.0018, "Inmig_Total": 624859, "Outmig_Total": 749179, "Net_Mig_Total": -124320, "Rel_Mig_Total": -0.0122, "Zero": 0}, {"Year": 1997, "Res": 10427660, "Inmig_Returns": 239369, "Inmig_Exempt": 415402, "Outmig_Returns": 238682, "Outmig_Exempt": 474923, "Net_Mig_Returns": 687, "Rel_Mig_Returns": 0.0001, "Inmig_Total": 654771, "Outmig_Total": 713605, "Net_Mig_Total": -58834, "Rel_Mig_Total": -0.0056, "Zero": 0}, {"Year": 1998, "Res": 10789034, "Inmig_Returns": 241352, "Inmig_Exempt": 415323, "Outmig_Returns": 240877, "Outmig_Exempt": 470359, "Net_Mig_Returns": 475, "Rel_Mig_Returns": 0.0, "Inmig_Total": 656675, "Outmig_Total": 711236, "Net_Mig_Total": -54561, "Rel_Mig_Total": -0.0051, "Zero": 0}, {"Year": 1999, "Res": 11120947, "Inmig_Returns": 251035, "Inmig_Exempt": 426328, "Outmig_Returns": 246887, "Outmig_Exempt": 481135, "Net_Mig_Returns": 4148, "Rel_Mig_Returns": 0.0004, "Inmig_Total": 677363, "Outmig_Total": 728022, "Net_Mig_Total": -50659, "Rel_Mig_Total": -0.0046, "Zero": 0}, {"Year": 2000, "Res": 11336742, "Inmig_Returns": 265793, "Inmig_Exempt": 447702, "Outmig_Returns": 245677, "Outmig_Exempt": 471816, "Net_Mig_Returns": 20116, "Rel_Mig_Returns": 0.0018, "Inmig_Total": 713495, "Outmig_Total": 717493, "Net_Mig_Total": -3998, "Rel_Mig_Total": -0.0004, "Zero": 0}, {"Year": 2001, "Res": 11531921, "Inmig_Returns": 240139, "Inmig_Exempt": 407757, "Outmig_Returns": 260174, "Outmig_Exempt": 494493, "Net_Mig_Returns": -20035, "Rel_Mig_Returns": -0.0017, "Inmig_Total": 647896, "Outmig_Total": 754667, "Net_Mig_Total": -106771, "Rel_Mig_Total": -0.0093, "Zero": 0}, {"Year": 2002, "Res": 11641931, "Inmig_Returns": 233121, "Inmig_Exempt": 400583, "Outmig_Returns": 252674, "Outmig_Exempt": 480289, "Net_Mig_Returns": -19553, "Rel_Mig_Returns": -0.0017, "Inmig_Total": 633704, "Outmig_Total": 732963, "Net_Mig_Total": -99259, "Rel_Mig_Total": -0.0085, "Zero": 0}, {"Year": 2003, "Res": 11652738, "Inmig_Returns": 230865, "Inmig_Exempt": 395330, "Outmig_Returns": 261740, "Outmig_Exempt": 507870, "Net_Mig_Returns": -30875, "Rel_Mig_Returns": -0.0026, "Inmig_Total": 626195, "Outmig_Total": 769610, "Net_Mig_Total": -143415, "Rel_Mig_Total": -0.0123, "Zero": 0}, {"Year": 2004, "Res": 11703701, "Inmig_Returns": 229348, "Inmig_Exempt": 389314, "Outmig_Returns": 289992, "Outmig_Exempt": 578725, "Net_Mig_Returns": -60644, "Rel_Mig_Returns": -0.0052, "Inmig_Total": 618662, "Outmig_Total": 868717, "Net_Mig_Total": -250055, "Rel_Mig_Total": -0.0214, "Zero": 0}, {"Year": 2005, "Res": 11745599, "Inmig_Returns": 235690, "Inmig_Exempt": 396313, "Outmig_Returns": 302665, "Outmig_Exempt": 617827, "Net_Mig_Returns": -66975, "Rel_Mig_Returns": -0.0057, "Inmig_Total": 632003, "Outmig_Total": 920492, "Net_Mig_Total": -288489, "Rel_Mig_Total": -0.0246, "Zero": 0}, {"Year": 2006, "Res": 11906514, "Inmig_Returns": 234018, "Inmig_Exempt": 394070, "Outmig_Returns": 289096, "Outmig_Exempt": 585366, "Net_Mig_Returns": -55078, "Rel_Mig_Returns": -0.0046, "Inmig_Total": 628088, "Outmig_Total": 874462, "Net_Mig_Total": -246374, "Rel_Mig_Total": -0.0207, "Zero": 0}, {"Year": 2007, "Res": 12434953, "Inmig_Returns": 251841, "Inmig_Exempt": 426523, "Outmig_Returns": 271521, "Outmig_Exempt": 523042, "Net_Mig_Returns": -19680, "Rel_Mig_Returns": -0.0016, "Inmig_Total": 678364, "Outmig_Total": 794563, "Net_Mig_Total": -116199, "Rel_Mig_Total": -0.0093, "Zero": 0}, {"Year": 2008, "Res": 12707337, "Inmig_Returns": 243360, "Inmig_Exempt": 418422, "Outmig_Returns": 252516, "Outmig_Exempt": 476641, "Net_Mig_Returns": -9156, "Rel_Mig_Returns": -0.0007, "Inmig_Total": 661782, "Outmig_Total": 729157, "Net_Mig_Total": -67375, "Rel_Mig_Total": -0.0053, "Zero": 0}, {"Year": 2009, "Res": 12588517, "Inmig_Returns": 214495, "Inmig_Exempt": 384328, "Outmig_Returns": 231291, "Outmig_Exempt": 430067, "Net_Mig_Returns": -16796, "Rel_Mig_Returns": -0.0013, "Inmig_Total": 598823, "Outmig_Total": 661358, "Net_Mig_Total": -62535, "Rel_Mig_Total": -0.005, "Zero": 0}, {"Year": 2010, "Res": 12600855, "Inmig_Returns": 224532, "Inmig_Exempt": 402125, "Outmig_Returns": 236494, "Outmig_Exempt": 436367, "Net_Mig_Returns": -11962, "Rel_Mig_Returns": -0.0009, "Inmig_Total": 626657, "Outmig_Total": 672861, "Net_Mig_Total": -46204, "Rel_Mig_Total": -0.0037, "Zero": 0}, {"Year": 2011, "Res": 13084530, "Inmig_Returns": 264729, "Inmig_Exempt": 476184, "Outmig_Returns": 266673, "Outmig_Exempt": 496085, "Net_Mig_Returns": -1944, "Rel_Mig_Returns": -0.0001, "Inmig_Total": 740913, "Outmig_Total": 762758, "Net_Mig_Total": -21845, "Rel_Mig_Total": -0.0017, "Zero": 0}, {"Year": 2012, "Res": 13148643, "Inmig_Returns": 268149, "Inmig_Exempt": 485161, "Outmig_Returns": 280002, "Outmig_Exempt": 532619, "Net_Mig_Returns": -11853, "Rel_Mig_Returns": -0.0009, "Inmig_Total": 753310, "Outmig_Total": 812621, "Net_Mig_Total": -59311, "Rel_Mig_Total": -0.0045, "Zero": 0}, {"Year": 2013, "Res": 13289353, "Inmig_Returns": 252717, "Inmig_Exempt": 453621, "Outmig_Returns": 268472, "Outmig_Exempt": 512732, "Net_Mig_Returns": -15755, "Rel_Mig_Returns": -0.0012, "Inmig_Total": 706338, "Outmig_Total": 781204, "Net_Mig_Total": -74866, "Rel_Mig_Total": -0.0056, "Zero": 0}, {"Year": 2014, "Res": 13658090, "Inmig_Returns": 200999, "Inmig_Exempt": 344232, "Outmig_Returns": 212337, "Outmig_Exempt": 388394, "Net_Mig_Returns": -11338, "Rel_Mig_Returns": -0.0008, "Inmig_Total": 545231, "Outmig_Total": 600731, "Net_Mig_Total": -55500, "Rel_Mig_Total": -0.0041, "Zero": 0}, {"Year": 2015, "Res": 13795079, "Inmig_Returns": 260471, "Inmig_Exempt": 453736, "Outmig_Returns": 288918, "Outmig_Exempt": 546608, "Net_Mig_Returns": -28447, "Rel_Mig_Returns": -0.0021, "Inmig_Total": 714207, "Outmig_Total": 835526, "Net_Mig_Total": -121319, "Rel_Mig_Total": -0.0088, "Zero": 0}, {"Year": 2016, "Res": 13811052, "Inmig_Returns": 327447, "Inmig_Exempt": 571204, "Outmig_Returns": 392786, "Outmig_Exempt": 750592, "Net_Mig_Returns": -65339, "Rel_Mig_Returns": -0.0047, "Inmig_Total": 898651, "Outmig_Total": 1143378, "Net_Mig_Total": -244727, "Rel_Mig_Total": -0.0177, "Zero": 0}, {"Year": 2017, "Res": 14159070, "Inmig_Returns": 261617, "Inmig_Exempt": 441167, "Outmig_Returns": 322169, "Outmig_Exempt": 592703, "Net_Mig_Returns": -60552, "Rel_Mig_Returns": -0.0043, "Inmig_Total": 702784, "Outmig_Total": 914872, "Net_Mig_Total": -212088, "Rel_Mig_Total": -0.015, "Zero": 0}], "data-ecee2b30f9dc68245f265fe3f2c2f932": [{"x": 1993.0, "y": -465000, "text": "1993 peak"}, {"x": 2005.0, "y": -315000, "text": "2005 peak"}, {"x": 2016.5, "y": -260000, "text": "Next Peak?"}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>